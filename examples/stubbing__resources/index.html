<html>

<body>
  <button id="button">load</button>
  <div id="img-container">
  </div>

  <script>
    function get(url) {
      return new Promise(resolve => {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = () => {
          if (xmlHttp.readyState != 4) {
            return;
          }
          resolve(JSON.parse(xmlHttp.responseText));
        }
        xmlHttp.open("GET", url, true);
        xmlHttp.send(null);
      })
    }

    document.getElementById("button").addEventListener("click", async () => {
      const result = await get("/apirequest");
      var div = document.querySelector("#img-container");
      var img = document.createElement("img");
      img.src = result.src;
      div.appendChild(img)
    })

  </script>
</body>

</html>